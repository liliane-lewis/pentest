#!/bin/bash
# Exericio de bash script. Aula: Criando um PortScan de Rede
# Objetivo: Descobrir quais hosts na rede possuem um determinada porta aberta.
# O usuario deve informar a rede e o script deve retornar os hosts que possuem a porta 80 aberta

if [ "$1" == "" ]
then    
    echo "PORTSCAN NETWORK"
    echo "Modo de uso: $0 REDE"
    echo "Exemplo: $0 172.16.1"
else
    for ip in {1..254};
    do  
        hping3 -S -p 80 -c 1 $1.$ip  2> /dev/null | grep "flags=SA" | cut -d " " -f 2 | cut -d "=" -f 2;
    done
fi
